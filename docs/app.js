"use strict";function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]")){return}var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}!function(t){var o={};function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==_typeof(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var r in t){e.d(n,r,function(o){return t[o]}.bind(null,r))}return n},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=0)}([function(t,o,e){t.exports=e(1)},function(t,o,e){e(2),yodasws.page("home").setRoute({template:"pages/home.html",route:"/"})},function(t,o){yodasws.page("play/main").setRoute({template:"pages/play/main/main.html",route:"/play/main/"}).on("load",function(){game.startRound()}),window.game={round:0,players:3,supplies:{sheep:0,boar:0,cattle:0,horse:0,wood:0,clay:0,reed:0,"stone-1":0,"stone-2":0,"reed-stone-food":0,"reed-stone-wood":0},actions:[{action:"build",text:"Build Room or Build Stables"},{action:"starting-player",text:"Starting Player and/or 1 Minor Improvement"},{action:"grain",text:"Take 1 Grain"},{action:"plow",text:"Plow 1 Field"},{action:"sow",text:"Sow and/or Bake Bread",round:1},{action:"plow-sow",text:"Plow 1 Field and/or Sow",round:5},{action:"occupation-1",text:"1 Occupation, first free, subsequent costs 1 Food"},{action:"occupation-2",text:"1 Occupation, costs 2 Food",players:3},{action:"occupation-1-2",text:"1 Occupation, first or second costs 1 Food, subsequent costs 2 Food",players:4},{action:"laborer",text:"Day Laborer"},{action:"fishing",text:"Fishing, 2 Food"},{action:"renovation-improvement",text:"After Renovation, also 1 Major or Minor Improvement",round:2},{action:"renovation-fences",text:"After Renovation, also Fences",round:6},{action:"improvement",text:"1 Major or Minor Improvement",round:1},{action:"growth-1",text:"After Family Growth, also 1 Minor Improvement",round:2},{action:"growth-2",text:"Family Growth even without a room",round:5},{action:"fences",text:"Fences",round:1},{action:"sheep",text:"<output></output> Sheep",round:1},{action:"boar",text:"<output></output> Wild Boar",round:3},{action:"cattle",text:"<output></output> Cattle",round:4},{action:"horse",text:"<output></output> Horse",round:5},{action:"animal",text:"1 Sheep and 1 Food, or 1 Wild Board, or pay 1 Food for 1 Cattle",round:5},{action:"vegetable",text:"Take 1 Vegetable",round:3},{action:"wood",text:"<output></output> Wood"},{action:"clay",text:"<output></output> Clay"},{action:"reed",text:"<output></output> Reed"},{action:"stone-1",text:"<output></output> Stone",round:2},{action:"stone-2",text:"<output></output> Stone",round:4},{action:"reed-stone-food",text:"<output></output> Reed, <output></output> Stone, and <output></output> Food",players:4},{action:"reed-stone-wood",text:"<output></output> Reed, also 1 Stone and 1 Wood",players:5},{action:"occupation-growth",text:"1 Occupation or (after Round 5) Family Growth",players:5},{action:"room-traveling",text:"Build 1 Room or Traveling Players",players:5}],takeAction:function takeAction(t){switch(t){case"build":case"room-traveling":case"starting-player":case"grain":case"vegetable":case"plow":case"sow":break;case"plow-sow":this.takeAction("plow"),this.takeAction("sow");}},startRound:function startRound(){var _this=this;this.round++,Object.entries(this.supplies).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),t=_ref2[0],o=_ref2[1];["sheep","boar","cattle","horse","stone-1","stone-2"].includes(t)?_this.round>=_this.actions.filter(function(o){return o.action===t})[0].round&&_this.supplies[t]++:_this.supplies[t]++});var t=document.querySelector("#action-board ol");t.innerHTML="",this.actions.forEach(function(o){if(o.round&&_this.round<o.round)return;if(o.players&&_this.players!==o.players)return;var e=document.createElement("li"),n=document.createElement("button");n.innerHTML=o.text,e.appendChild(n);var r=e.querySelector("output");r instanceof Element&&(r.innerText=_this.supplies[o.action]),t.appendChild(e)})}},game.actions.sort(function(t,o){return t.round||o.round?!t.round&&o.round?-1:t.round&&!o.round?1:t.round===o.round?Math.random()-.5:t.round-o.round:0}).filter(function(t,o){return t.i=o,!!t.round}).forEach(function(t,o){game.actions[t.i].round=o+1})}]);